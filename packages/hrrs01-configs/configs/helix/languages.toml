# [language-server.lsp-ai]
# command = "lsp-ai"

# [language-server.lsp-ai.config.memory]
# file_store = { }

# [language-server.lsp-ai.config.models.ollama]
# type = "ollama"
# model = "ollama:deepseek-coder-v2:16b-lite-instruct-q4_K_M"
# chat_endpoint = "http://100.107.12.69:11434/api/chat"
# generate_endpoint = "http://100.107.12.69:11434/api/generate"

# [language-server.lsp-ai.config.completion]
# model = "ollama"
# action_display_name = "Completion"

# [language-server.lsp-ai.config.completion.parameters]
# max_tokens = 64
# max_context = 1024

# ## Configure the messages per your needs
# [[language-server.lsp-ai.config.completion.parameters.messages]]
# role = "system"
# content = "Instructions:\n- You are an AI programming assistant.\n- Given a piece of code with the cursor location marked by \"<CURSOR>\", replace \"<CURSOR>\" with the correct code or comment.\n- First, think step-by-step.\n- Describe your plan for what to build in pseudocode, written out in great detail.\n- Then output the code replacing the \"<CURSOR>\"\n- Ensure that your completion fits within the language context of the provided code snippet (e.g., Python, JavaScript, Rust).\n\nRules:\n- Only respond with code or comments.\n- Only replace \"<CURSOR>\"; do not include any previously written code.\n- Never include \"<CURSOR>\" in your response\n- If the cursor is within a comment, complete the comment meaningfully.\n- Handle ambiguous cases by providing the most contextually appropriate completion.\n- Be consistent with your responses."

# [[language-server.lsp-ai.config.chat]]
# trigger = "!C"
# action_display_name = "Chat"
# model = "ollama"

# [language-server.lsp-ai.config.chat.parameters]
# max_context = 4096
# max_tokens = 1024
# system = "You are a code assistant chatbot. The user will ask you for assistance coding and you will do you best to answer succinctly and accurately"

[language-server.scls]
command = "simple-completion-language-server"

[language-server.xml-lsp]
command = "lemminx"
args = ["--stdio"]

[language-server.scls.config]
feature_words = false
feature_snippets = true
snippets_first = true
snippets_inline_by_word_tail = false
feature_unicode_input = false
feature_paths = false
feature_citations = false 

[language-server.ruff]
command = "ruff"
args = ["server"]

[language-server.pylsp]
command = "pylsp"

[[language]]
name = "nix"
auto-format = true
formatter = { command = "nixfmt"}
# language-servers = ["lsp-ai"]

[[language]]
name = "cmake"
auto-format = true
language-servers = ["cmake-language-server"]

[[language]]
name = "python"
language-servers = ["pylsp", "ruff"]

[language-server.cmake-language-server]
command = "cmake-language-server"

[[language]]
name = "xml"
file-types = ["xml", "urdf"]
language-servers = ["xml-lsp"]

[[language]]
name = "cpp"
auto-format = true
language-servers = ["scls", "clangd" ]

[[language]]
name = "stub"
auto-format = false
scope = "text.stub"
file-types = []
shebangs = []
roots = []
language-servers = ["scls"]

[[language]]
name = "xml"
auto-format = true
formatter = { command= "xmllint", args=["--format", "-"]}
